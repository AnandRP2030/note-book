
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <title>useRef hook Â· HonKit</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="HonKit 6.0.2">
        
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/@honkit/honkit-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="../credits.html" />
    
    
    <link rel="prev" href="component-life-cycle.html" />
    

    </head>
    <body>
        
<div class="book honkit-cloak">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../basic-html/">
            
                <a href="../basic-html/">
            
                    
                    HTML Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../basic-html/01-introduction.html">
            
                <a href="../basic-html/01-introduction.html">
            
                    
                    HTML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../basic-html/02-tags.html">
            
                <a href="../basic-html/02-tags.html">
            
                    
                    HTML Tags
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.2.1" data-path="../basic-html/03-text-formatting-tags.html">
            
                <a href="../basic-html/03-text-formatting-tags.html">
            
                    
                    HTML Text Formatting Tags
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2.2" data-path="../basic-html/04-sementic-tags.html">
            
                <a href="../basic-html/04-sementic-tags.html">
            
                    
                    HTML Sementic Tags
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="01-react-intro.md">
            
                <span>
            
                    
                    React
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="02-react-router-dom.md">
            
                <span>
            
                    
                    react-router-dom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="03-props.md">
            
                <span>
            
                    
                    Props
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="./">
            
                <a href="./">
            
                    
                    hooks
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="useState.html">
            
                <a href="useState.html">
            
                    
                    useState hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="useEffect.html">
            
                <a href="useEffect.html">
            
                    
                    useEffect hook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.6" data-path="component-life-cycle.html">
            
                <a href="component-life-cycle.html">
            
                    
                    Components Life cycle
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.3.7" data-path="useRef.html">
            
                <a href="useRef.html">
            
                    
                    useRef hook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../credits.html">
            
                <a href="../credits.html">
            
                    
                    Credits
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://github.com/honkit/honkit" target="blank" class="gitbook-link">
            Published with HonKit
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >useRef hook</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h2 id="ðŸ“‹-understanding-the-useref-hook-in-react">ðŸ“‹ Understanding the useRef Hook in React</h2>
<h3 id="what-is-the-useref-hook">What is the useRef Hook?</h3>
<p>The <code>useRef</code> hook is a function that returns a mutable ref object whose <code>.current</code> property is initialized to the passed argument (initialValue). This object persists for the lifetime of the component. <code>useRef</code> is primarily used to access and interact with DOM elements directly, but it can also be used to keep any mutable value around similar to how you might use instance fields in classes.</p>
<h3 id="how-does-useref-help">How Does useRef Help?</h3>
<ul>
<li><strong>Accessing DOM Elements</strong>: <code>useRef</code> allows you to directly access and manipulate DOM elements without causing re-renders.</li>
<li><strong>Persisting Values</strong>: It can store a value that persists across re-renders without triggering a re-render when it changes.</li>
<li><strong>Holding Previous Values</strong>: You can use <code>useRef</code> to keep track of previous values.</li>
</ul>
<h3 id="how-to-use-the-useref-hook">How to Use the useRef Hook?</h3>
<p>Here's a basic example of how to use the <code>useRef</code> hook to access a DOM element:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">FocusInput</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> inputRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">focusInput</span> = (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-comment">// Directly access the DOM element and focus it</span>
    inputRef.<span class="hljs-property">current</span>.<span class="hljs-title function_">focus</span>();
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">{inputRef}</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{focusInput}</span>&gt;</span>Focus the input<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">FocusInput</span>;
</code></pre>
<h3 id="detailed-explanation-of-useref">Detailed Explanation of useRef</h3>
<h4 id="accessing-dom-elements">Accessing DOM Elements</h4>
<p>In the example above, <code>useRef</code> is used to create a reference to the <code>&lt;input&gt;</code> element. The <code>inputRef</code> variable is assigned to the <code>ref</code> attribute of the <code>&lt;input&gt;</code> element. When the button is clicked, the <code>focusInput</code> function is called, which accesses the DOM element directly via <code>inputRef.current</code> and calls the <code>focus</code> method.</p>
<h4 id="persisting-values">Persisting Values</h4>
<p>You can also use <code>useRef</code> to store values that persist across re-renders without causing additional renders:</p>
<pre><code class="lang-jsx"><span class="hljs-keyword">import</span> <span class="hljs-title class_">React</span>, { useRef, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">Timer</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> [seconds, setSeconds] = <span class="hljs-title function_">useState</span>(<span class="hljs-number">0</span>);
  <span class="hljs-keyword">const</span> intervalRef = <span class="hljs-title function_">useRef</span>(<span class="hljs-literal">null</span>);

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">startTimer</span> = (<span class="hljs-params"></span>) =&gt; {
    intervalRef.<span class="hljs-property">current</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> {
      <span class="hljs-title function_">setSeconds</span>(<span class="hljs-function"><span class="hljs-params">prevSeconds</span> =&gt;</span> prevSeconds + <span class="hljs-number">1</span>);
    }, <span class="hljs-number">1000</span>);
  };

  <span class="hljs-keyword">const</span> <span class="hljs-title function_">stopTimer</span> = (<span class="hljs-params"></span>) =&gt; {
    <span class="hljs-built_in">clearInterval</span>(intervalRef.<span class="hljs-property">current</span>);
  };

  <span class="hljs-keyword">return</span> (
    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Timer: {seconds} seconds<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{startTimer}</span>&gt;</span>Start<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{stopTimer}</span>&gt;</span>Stop<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>
  );
}

<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title class_">Timer</span>;
</code></pre>
<p>In this example:</p>
<ul>
<li><code>useRef</code> is used to store the interval ID created by <code>setInterval</code>.</li>
<li>This allows the interval to be started and stopped without causing re-renders.</li>
</ul>
<h3 id="why-is-useref-important">Why is useRef Important?</h3>
<ul>
<li><strong>Avoid Re-renders</strong>: Unlike state, updating a ref does not trigger a re-render. This makes it ideal for keeping track of values that change without affecting the UI.</li>
<li><strong>Direct DOM Manipulation</strong>: While it's generally better to use React's declarative approach to manipulate the DOM, there are cases where direct manipulation is necessary, and <code>useRef</code> provides a way to do this.</li>
<li><strong>Persisting Mutable Values</strong>: <code>useRef</code> can be used to store mutable values that need to persist across renders but do not require causing a re-render when they change.</li>
</ul>
<h3 id="conclusion">Conclusion</h3>
<p>The <code>useRef</code> hook is a valuable tool in React that allows you to access and manipulate DOM elements directly, persist values across re-renders without causing additional renders, and hold mutable values. By understanding and using the <code>useRef</code> hook effectively, you can build more efficient and interactive React applications.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="component-life-cycle.html" class="navigation navigation-prev " aria-label="Previous page: Components Life cycle">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="../credits.html" class="navigation navigation-next " aria-label="Next page: Credits">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"useRef hook","level":"1.3.7","depth":2,"next":{"title":"Credits","level":"1.4","depth":1,"path":"docs/credits.md","ref":"docs/credits.md","articles":[]},"previous":{"title":"Components Life cycle","level":"1.3.6","depth":2,"path":"docs/react/component-life-cycle.md","ref":"docs/react/component-life-cycle.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56},"embedFonts":false},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"docs/react/useRef.md","mtime":"2024-12-01T17:54:00.178Z","type":"markdown"},"gitbook":{"version":"6.0.2","time":"2024-12-01T19:07:50.653Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <noscript>
        <style>
            .honkit-cloak {
                display: block !important;
            }
        </style>
    </noscript>
    <script>
        // Restore sidebar state as critical path for prevent layout shift
        function __init__getSidebarState(defaultValue){
            var baseKey = "";
            var key = baseKey + ":sidebar";
            try {
                var value = localStorage[key];
                if (value === undefined) {
                    return defaultValue;
                }
                var parsed = JSON.parse(value);
                return parsed == null ? defaultValue : parsed;
            } catch (e) {
                return defaultValue;
            }
        }
        function __init__restoreLastSidebarState() {
            var isMobile = window.matchMedia("(max-width: 600px)").matches;
            if (isMobile) {
                // Init last state if not mobile
                return;
            }
            var sidebarState = __init__getSidebarState(true);
            var book = document.querySelector(".book");
            // Show sidebar if it enabled
            if (sidebarState && book) {
                book.classList.add("without-animation", "with-summary");
            }
        }

        try {
            __init__restoreLastSidebarState();
        } finally {
            var book = document.querySelector(".book");
            book.classList.remove("honkit-cloak");
        }
    </script>
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../../gitbook/@honkit/honkit-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

